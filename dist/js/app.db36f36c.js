(function(e){function t(t){for(var a,s,i=t[0],c=t[1],l=t[2],d=0,v=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&v.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(v.length)v.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1107:function(e,t,n){},"2abd":function(e,t,n){"use strict";var a=n("be68"),r=n.n(a);r.a},"30b2":function(e,t,n){"use strict";var a=n("ff4d"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t),n.d(t,"db",(function(){return je}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("fb9a"),o=n.n(r),s=(n("04f2"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("top-header"),n("vs-navbar",{staticClass:"nabarx",model:{value:e.activeItem,callback:function(t){e.activeItem=t},expression:"activeItem"}},[n("div",{attrs:{slot:"title"},slot:"title"},[n("vs-navbar-title",[e._v(" Job-Search-Assistant ")])],1),n("vs-navbar-item",{attrs:{index:"0"}},[1==this.$store.state.loggedIn?n("router-link",{attrs:{to:"/"}},[e._v("Calendar")]):e._e()],1),n("vs-navbar-item",{attrs:{index:"1"}},[1==this.$store.state.loggedIn?n("router-link",{attrs:{to:"/list"}},[e._v("List")]):e._e()],1),n("vs-navbar-item",{attrs:{index:"2"}},[0==this.$store.state.loggedIn?n("router-link",{attrs:{to:"/login"}},[e._v("Login")]):e._e()],1),n("vs-navbar-item",{attrs:{index:"3"}},[0==this.$store.state.loggedIn?n("router-link",{attrs:{to:"/register"}},[e._v("Register")]):e._e()],1),n("vs-navbar-item",{attrs:{index:"4"}},[1==this.$store.state.loggedIn?n("button",{staticClass:"but",on:{click:e.signOut}},[e._v("Sign out")]):e._e()])],1),n("router-view")],1)}),i=[],c=(n("ac1f"),n("5319"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")}),l=[],u=n("59ca"),d=n.n(u),v=(n("ea7b"),{name:"top-header",mounted:function(){this.setupFirebase()},methods:{setupFirebase:function(){var e=this;u["auth"]().onAuthStateChanged((function(t){t?(console.log("signed in"),e.loggedIn=!0,console.log("userid is : ",t.uid),e.$store.commit("setUser",t.uid)):(e.loggedIn=!1,console.log("signed out",e.loggedIn))}))},signOut:function(){var e=this;u["auth"]().signOut().then((function(){e.$router.replace({name:"login"})}))}},data:function(){return{loggedIn:!1}}}),p=v,m=(n("c192"),n("2877")),f=Object(m["a"])(p,c,l,!1,null,"3fa1d818",null),g=f.exports,h={name:"App",components:{"top-header":g},mounted:function(){this.setupFirebase()},data:function(){return{activeItem:0}},methods:{setupFirebase:function(){var e=this;u["auth"]().onAuthStateChanged((function(t){t?(console.log("signed in"),e.loggedIn=!0,console.log("userid is : ",t.uid),e.$store.commit("setUser",t.uid)):(e.loggedIn=!1,console.log("signed out",e.loggedIn))}))},signOut:function(){var e=this;u["auth"]().signOut().then((function(){e.$store.commit("changeLoggedIn"),e.$router.replace({name:"login"})})),sessionStorage.clear()}}},b=h,y=(n("5c0b"),n("6544")),w=n.n(y),_=n("7496"),x=Object(m["a"])(b,s,i,!1,null,null,null),k=x.exports;w()(x,{VApp:_["a"]});var E=n("f309");a["default"].use(E["a"]);var O=new E["a"]({}),I=n("3f9d"),C=(n("e71f"),n("45fc"),n("8c4f")),V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",[n("v-row",{staticClass:"fill-height"},[n("v-col",[n("v-sheet",{attrs:{height:"64"}},[n("v-toolbar",{attrs:{flat:""}},[n("v-btn",{staticClass:"mr-4",attrs:{color:"Primary",dark:""},on:{click:function(t){e.dialog=!0}}},[e._v(" New Event ")]),n("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:e.setToday}},[e._v(" Today ")]),n("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.prev}},[n("v-icon",{attrs:{small:""}},[e._v(" mdi-chevron-left ")])],1),n("v-btn",{staticClass:"mr-4",attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.next}},[n("v-icon",{attrs:{small:""}},[e._v(" mdi-chevron-right ")])],1),e.$refs.calendar?n("v-toolbar-title",[e._v(" "+e._s(e.$refs.calendar.title)+" ")]):e._e(),n("v-spacer"),n("v-menu",{attrs:{bottom:"",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({attrs:{outlined:"",color:"grey darken-2"}},"v-btn",r,!1),a),[n("span",[e._v(e._s(e.typeToLabel[e.type]))]),n("v-icon",{attrs:{right:""}},[e._v(" mdi-menu-down ")])],1)]}}])},[n("v-list",[n("v-list-item",{on:{click:function(t){e.type="day"}}},[n("v-list-item-title",[e._v("Day")])],1),n("v-list-item",{on:{click:function(t){e.type="week"}}},[n("v-list-item-title",[e._v("Week")])],1),n("v-list-item",{on:{click:function(t){e.type="month"}}},[n("v-list-item-title",[e._v("Month")])],1),n("v-list-item",{on:{click:function(t){e.type="4day"}}},[n("v-list-item-title",[e._v("4 days")])],1)],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(t){return t.preventDefault(),e.addEvent(t)}}},[n("v-text-field",{attrs:{type:"text",label:"company name (required)"},model:{value:e.companyName,callback:function(t){e.companyName=t},expression:"companyName"}}),n("v-text-field",{attrs:{type:"text",label:"event name (required)"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-text-field",{attrs:{type:"text",label:"detail"},model:{value:e.details,callback:function(t){e.details=t},expression:"details"}}),n("v-text-field",{attrs:{type:"date",label:"start (required)"},model:{value:e.start,callback:function(t){e.start=t},expression:"start"}}),n("v-text-field",{attrs:{type:"date",label:"end (required)"},model:{value:e.end,callback:function(t){e.end=t},expression:"end"}}),n("v-text-field",{attrs:{type:"color",label:"color (click to open color menu)"},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}}),n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"},on:{click:function(t){t.stopPropagation(),e.dialog=!1}}},[e._v(" create event ")])],1)],1)],1)],1),n("v-sheet",{attrs:{height:"600"}},[n("v-calendar",{ref:"calendar",attrs:{color:"dark",events:e.events,"event-color":e.getEventColor,type:e.type},on:{"click:event":e.showEvent,"click:more":e.viewDay,"click:date":e.viewDay,change:e.updateRange},model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}}),n("v-menu",{attrs:{"close-on-content-click":!1,activator:e.selectedElement,"offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[n("v-card",{attrs:{color:"grey lighten-4","min-width":"350px",flat:""}},[n("v-toolbar",{attrs:{color:e.selectedEvent.color,dark:""}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.deleteEvent(e.selectedEvent.id)}}},[n("v-icon",[e._v("mdi-delete")])],1),n("v-toolbar-title",{domProps:{innerHTML:e._s(e.selectedEvent.companyName)}}),n("v-spacer")],1),n("v-card-text",[e.currentlyEditing!==e.selectedEvent.id?n("form",[e._v(" "+e._s(e.selectedEvent.details)+" ")]):n("form",[n("textarea-autosize",{staticStyle:{width:"100%"},attrs:{type:"text","min-height":100,placeholder:"add note"},model:{value:e.selectedEvent.details,callback:function(t){e.$set(e.selectedEvent,"details",t)},expression:"selectedEvent.details"}})],1)]),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.selectedOpen=!1}}},[e._v(" Close ")]),e.currentlyEditing!==e.selectedEvent.id?n("v-btn",{attrs:{text:""},on:{click:function(t){return t.preventDefault(),e.editEvent(e.selectedEvent)}}},[e._v(" Edit ")]):n("v-btn",{attrs:{text:""},on:{click:function(t){return t.preventDefault(),e.updateEvent(e.selectedEvent)}}},[e._v(" Save ")])],1)],1)],1)],1)],1)],1)],1)},j=[],$=(n("4160"),n("b0c0"),n("159b"),n("96cf"),n("1da1")),S=n("5530"),T=n("2f62"),D={name:"calendar",components:{},data:function(){return{today:(new Date).toISOString().substring(0,10),focus:(new Date).toISOString().substring(0,10),type:"month",typeToLabel:{month:"Month",week:"Week",day:"Day","4day":"4 Days"},name:null,companyName:null,details:null,start:null,end:null,color:"#1976d2",currentlyEditing:null,selectedEvent:{},selectedElement:null,selectedOpen:!1,events:[],dialog:!1}},mounted:function(){this.getEvents()},computed:Object(S["a"])(Object(S["a"])({},Object(T["b"])({user:"user"})),Object(T["c"])(["userid"])),methods:{getEvents:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,je.collection("testingWebApp").get();case 2:n=t.sent,a=[],console.log("getEvents() called"),n.forEach((function(t){if(console.log("Doc user id : ",t.data().userid),console.log("user id : ",e.$store.state.userid),e.userid==t.data().userid){var n=t.data();n.id=t.id,a.push(n)}})),e.events=a;case 7:case"end":return t.stop()}}),t)})))()},addEvent:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.name&&e.start&&e.end)){t.next=12;break}return t.next=3,je.collection("testingWebApp").add({name:e.name,companyName:e.companyName,details:e.details,start:e.start,end:e.end,color:e.color,userid:e.userid});case 3:e.getEvents(),e.name="",e.companyName="",e.details="",e.start="",e.end="",e.color="#1976d2",t.next=13;break;case 12:alert("Name, start and end date are required");case 13:e.selectedOpen=!1,e.currentlyEditing=null;case 15:case"end":return t.stop()}}),t)})))()},updateEvent:function(e){var t=this;return Object($["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,je.collection("testingWebApp").doc(t.currentlyEditing).update({details:e.details});case 2:t.selectedOpen=!1,t.currentlyEditing=null;case 4:case"end":return n.stop()}}),n)})))()},deleteEvent:function(e){var t=this;return Object($["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,je.collection("testingWebApp").doc(e).delete();case 2:t.selectedOpen=!1,t.getEvents();case 4:case"end":return n.stop()}}),n)})))()},viewDay:function(e){var t=e.date;this.focus=t,this.type="day"},getEventColor:function(e){return e.color},setToday:function(){this.focus=""},prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},editEvent:function(e){this.currentlyEditing=e.id},showEvent:function(e){var t=this,n=e.nativeEvent,a=e.event,r=function(){t.selectedEvent=a,t.selectedElement=n.target,setTimeout((function(){t.selectedOpen=!0}),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(r,10)):r(),n.stopPropagation()},updateRange:function(e){for(var t=e.start,n=e.end,a=[],r=new Date("".concat(t.date,"T00:00:00")),o=new Date("".concat(n.date,"T23:59:59")),s=(o.getTime()-r.getTime())/864e5,i=this.rnd(s,s+20),c=0;c<i;c++){var l=0===this.rnd(0,3),u=this.rnd(r.getTime(),o.getTime()),d=new Date(u-u%9e5),v=9e5*this.rnd(2,l?288:8),p=new Date(d.getTime()+v);a.push({name:this.names[this.rnd(0,this.names.length-1)],start:d,end:p,color:this.colors[this.rnd(0,this.colors.length-1)],timed:!l})}this.events=a},rnd:function(e,t){return Math.floor((t-e+1)*Math.random())+e}}},A=D,P=n("8336"),R=n("a4f6"),L=n("b0af"),N=n("99d9"),M=n("62ad"),W=n("a523"),q=n("169a"),U=n("4bd4"),F=n("132d"),z=n("8860"),B=n("da13"),J=n("5d23"),K=n("f6c4"),H=n("e449"),Q=n("0fd9"),X=n("8dd9"),Y=n("2fa4"),G=n("8654"),Z=n("71d9"),ee=n("2a7f"),te=Object(m["a"])(A,V,j,!1,null,null,null),ne=te.exports;w()(te,{VBtn:P["a"],VCalendar:R["a"],VCard:L["a"],VCardActions:N["a"],VCardText:N["c"],VCol:M["a"],VContainer:W["a"],VDialog:q["a"],VForm:U["a"],VIcon:F["a"],VList:z["a"],VListItem:B["a"],VListItemTitle:J["a"],VMain:K["a"],VMenu:H["a"],VRow:Q["a"],VSheet:X["a"],VSpacer:Y["a"],VTextField:G["a"],VToolbar:Z["a"],VToolbarTitle:ee["a"]});var ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.error?n("div",{staticClass:"error"},[e._v(e._s(e.error.message))]):e._e(),n("form",{on:{submit:function(t){return t.preventDefault(),e.pressed(t)}}},[n("h3",[e._v("Register")]),n("div",{staticClass:"email"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),n("div",{staticClass:"password"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),n("button",{attrs:{type:"submit"}},[e._v("Register")])])])},re=[],oe={data:function(){return{email:"",password:"",error:""}},methods:{pressed:function(){var e=this;u["auth"]().createUserWithEmailAndPassword(this.email,this.password).then((function(){console.log("here"),e.$store.commit("changeLoggedIn"),e.$router.replace({name:"calendar"})})).catch((function(t){return e.error=t}))}}},se=oe,ie=(n("2abd"),Object(m["a"])(se,ae,re,!1,null,"62b72835",null)),ce=ie.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("Login")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.pressed(t)}}},[n("div",{staticClass:"login"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",placeholder:"login"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),n("div",{staticClass:"password"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),n("button",[e._v("Login")])]),e.error?n("div",{staticClass:"error"},[e._v(e._s(e.error.message))]):e._e()])},ue=[],de={data:function(){return{email:"",password:"",error:""}},methods:{pressed:function(){var e=this;u["auth"]().signInWithEmailAndPassword(this.email,this.password).then((function(t){console.log(t),e.$store.commit("changeLoggedIn"),e.$router.replace({name:"calendar"})})).catch((function(t){e.error=t}))}}},ve=de,pe=(n("30b2"),Object(m["a"])(ve,le,ue,!1,null,"3403c69c",null)),me=pe.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",[n("v-container",e._l(e.events,(function(t,a){return n("v-card",{key:a,staticClass:"mx-auto",attrs:{hover:""}},[e._v(" "+e._s(t)+" "),n("v-card-title",{staticClass:"justify-center"},[e._v(e._s(t.name))]),n("v-card-subtitle",[e._v(e._s(t.details))]),n("v-card-actions",[n("v-spacer"),n("v-btn",[e._v("Edit")]),n("v-btn",[e._v("Delete")]),n("v-btn",[e._v("Share")]),n("v-spacer")],1)],1)})),1)],1)])},ge=[],he={name:"list",data:function(){return{events:[]}},mounted:function(){this.getEvents()},computed:Object(S["a"])({},Object(T["c"])(["userid"])),methods:{getEvents:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,je.collection("testingWebApp").get();case 2:n=t.sent,a=[],console.log("getEvents() called"),n.forEach((function(t){if(console.log("Doc user id : ",t.data().userid),console.log("user id : ",e.$store.state.userid),e.userid==t.data().userid){var n=t.data();n.id=t.id,a.push(n)}})),e.events=a;case 7:case"end":return t.stop()}}),t)})))()}}},be=he,ye=Object(m["a"])(be,fe,ge,!1,null,"71d2e798",null),we=ye.exports;w()(ye,{VBtn:P["a"],VCard:L["a"],VCardActions:N["a"],VCardSubtitle:N["b"],VCardTitle:N["d"],VContainer:W["a"],VSpacer:Y["a"]}),a["default"].use(C["a"]);var _e=[{path:"/",name:"calendar",component:ne,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:me},{path:"/register",name:"register",component:ce},{path:"/list",name:"list",meta:{requiresAuth:!0},component:we}],xe=new C["a"]({mode:"history",base:"/",routes:_e});xe.beforeEach((function(e,t,n){var a=e.matched.some((function(e){return e.meta.requiresAuth})),r=u["auth"]().currentUser;console.log("isauthenticated",r),a&&!r?n("/login"):n()}));var ke=xe,Ee=n("0e44");a["default"].use(T["a"]);var Oe,Ie=new T["a"].Store({plugins:[Object(Ee["a"])({storage:window.sessionStorage})],state:{userid:null,loggedIn:!1},mutations:{setUser:function(e,t){e.userid=t},changeLoggedIn:function(e){0==e.loggedIn?e.loggedIn=!0:e.loggedIn=!1}},actions:{},modules:{},getters:{retrieveUser:function(e){return e.userid}}}),Ce=n("bc3a"),Ve=n.n(Ce);a["default"].use(I["a"]),a["default"].use(o.a),a["default"].config.productionTip=!1,a["default"].prototype.$axios=Ve.a,d.a.initializeApp({apiKey:"AIzaSyBm30VO0QPhOYVuoKszwEtkIArl1LX51to",authDomain:"cpsc490-calendar.firebaseapp.com",databaseURL:"https://cpsc490-calendar.firebaseio.com",projectId:"cpsc490-calendar",storageBucket:"cpsc490-calendar.appspot.com",messagingSenderId:"922525928770",appId:"1:922525928770:web:c3fb97f552d60b746c4cdb"}),d.a.auth().onAuthStateChanged((function(e){console.log("user",e),Oe||(Oe=new a["default"]({router:ke,store:Ie,vuetify:O,render:function(e){return e(k)}}).$mount("#app"))}));var je=d.a.firestore()},"5c0b":function(e,t,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},"9c0c":function(e,t,n){},be68:function(e,t,n){},c192:function(e,t,n){"use strict";var a=n("1107"),r=n.n(a);r.a},ff4d:function(e,t,n){}});
//# sourceMappingURL=app.db36f36c.js.map